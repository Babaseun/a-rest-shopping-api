{"version":3,"sources":["../../../../src/public/UI/js/test.js"],"names":["getAll","fetch","method","headers","localStorage","getItem","then","res","json","output","count","data","rows","forEach","id","value","location","numberofrooms","created_date","price","document","querySelector","innerHTML","console","log","deleteButton","track","button","querySelectorAll","style","backgroundColor","textContent","message","setTimeout","reload","catch","e","getElementById","addEventListener","clear","removeItem"],"mappings":";;AAAAA;AACA,SAASA,MAAT,GAAkB;AAChBC,QAAM,kBAAN,EAA0B;AACxBC,YAAQ,KADgB;AAExBC,aAAS,EAAE,kBAAkBC,aAAaC,OAAb,CAAqB,gBAArB,CAApB;AAFe,GAA1B,EAIGC,IAJH,CAIQ;AAAA,WAAOC,IAAIC,IAAJ,EAAP;AAAA,GAJR,EAKGF,IALH,CAKQ,gBAAQ;AACZ,QAAIG,SAAS,EAAb;AACA,QAAIC,QAAQ,CAAZ;AACAC,SAAKC,IAAL,CAAUC,OAAV,CAAkB,iBAAS;AAAA,UACjBC,EADiB,GACoCC,KADpC,CACjBD,EADiB;AAAA,UACbE,QADa,GACoCD,KADpC,CACbC,QADa;AAAA,UACHC,aADG,GACoCF,KADpC,CACHE,aADG;AAAA,UACYC,YADZ,GACoCH,KADpC,CACYG,YADZ;AAAA,UAC0BC,KAD1B,GACoCJ,KADpC,CAC0BI,KAD1B;;AAEzBV,ooBAkBYO,QAlBZ,mCAmBcC,aAnBd,mCAoBcC,YApBd,oDAsBcC,KAtBd,kFAuB6DL,EAvB7D,UAuBoEJ,KAvBpE;AA4BAA;AACD,KA/BD;AAgCAU,aAASC,aAAT,CAAuB,SAAvB,EAAkCC,SAAlC,GAA8Cb,MAA9C;AACAc,YAAQC,GAAR,CAAYb,IAAZ;AACAY,YAAQC,GAAR,CAAYd,KAAZ;AACD,GA3CH;AA4CD;AACD,SAASe,YAAT,CAAsBX,EAAtB,EAA0BY,KAA1B,EAAiC;AAC/BzB,8BAA0Ba,EAA1B,EAAgC;AAC9BZ,YAAQ,QADsB;AAE9BC,aAAS,EAAE,kBAAkBC,aAAaC,OAAb,CAAqB,gBAArB,CAApB;AAFqB,GAAhC,EAIGC,IAJH,CAIQ;AAAA,WAAOC,IAAIC,IAAJ,EAAP;AAAA,GAJR,EAKGF,IALH,CAKQ,gBAAQ;AACZ,QAAIqB,SAASP,SAASQ,gBAAT,CAA0B,SAA1B,EAAqCF,KAArC,CAAb;AACAC,WAAOE,KAAP,CAAaC,eAAb,GAA+B,OAA/B;AACAV,aAASQ,gBAAT,CAA0B,UAA1B,EAAsCF,KAAtC,EAA6CK,WAA7C,GAA2DpB,KAAKqB,OAAhE;AACAC,eAAW,YAAM;AACf,aAAOjB,SAASkB,MAAT,EAAP;AACD,KAFD,EAEG,IAFH;AAGD,GAZH,EAcGC,KAdH,CAcS;AAAA,WAAKZ,QAAQC,GAAR,CAAYY,CAAZ,CAAL;AAAA,GAdT;AAeD;AACDhB,SAASiB,cAAT,CAAwB,QAAxB,EAAkCC,gBAAlC,CAAmD,OAAnD,EAA4DC,KAA5D;AACA,SAASA,KAAT,GAAiB;AACf,SAAOnC,aAAaoC,UAAb,CAAwB,gBAAxB,CAAP;AACD","file":"test.js","sourcesContent":["getAll();\r\nfunction getAll() {\r\n  fetch('/api/v1/products', {\r\n    method: 'GET',\r\n    headers: { 'x-access-token': localStorage.getItem('x-access-token') }\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      let output = '';\r\n      var count = 0;\r\n      data.rows.forEach(value => {\r\n        const { id, location, numberofrooms, created_date, price } = value;\r\n        output += `\r\n                 <div class= \"container results\">\r\n                     <div class=\"rows\">\r\n                    \r\n                    <table  class=\"table table-bordered\">\r\n                    <h1>Order details</h1>\r\n                    <thead>\r\n                    <tr>\r\n                \r\n                 <th scope=\"col\">Location</th>\r\n                 <th scope=\"col\">Rooms</th>\r\n                 <th scope=\"col\">Date</th>\r\n                 <th scope=\"col\">Price</th>\r\n                 <th scope=\"col\">???</th>\r\n                 </tr>\r\n                 </thead>\r\n                 <tr>\r\n            \r\n              <td>${location}</td>\r\n                <td>${numberofrooms}</td>\r\n                <td>${created_date}</td>\r\n               \r\n                <td>${price}</td>\r\n                 <td><button class=\"delete\"  onclick=deleteButton(\"${id}\",${count})><div class=\"message\">Delete</div>\r\n                 </button></td></tr></table>\r\n                 </div>\r\n                 \r\n                 </div> `;\r\n        count++;\r\n      });\r\n      document.querySelector('.result').innerHTML = output;\r\n      console.log(data);\r\n      console.log(count);\r\n    });\r\n}\r\nfunction deleteButton(id, track) {\r\n  fetch(`/api/v1/products/${id}`, {\r\n    method: 'DELETE',\r\n    headers: { 'x-access-token': localStorage.getItem('x-access-token') }\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      var button = document.querySelectorAll('.delete')[track];\r\n      button.style.backgroundColor = 'green';\r\n      document.querySelectorAll('.message')[track].textContent = data.message;\r\n      setTimeout(() => {\r\n        return location.reload();\r\n      }, 1000);\r\n    })\r\n\r\n    .catch(e => console.log(e));\r\n}\r\ndocument.getElementById('logout').addEventListener('click', clear);\r\nfunction clear() {\r\n  return localStorage.removeItem('x-access-token');\r\n}\r\n"]}