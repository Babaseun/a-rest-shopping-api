{"version":3,"sources":["../../../../src/public/UI/js/Purchase.js"],"names":["button","document","getElementById","addEventListener","purchaseFunction","amount","querySelector","innerHTML","image","src","location","numberOfRooms","fetch","method","headers","localStorage","getItem","body","JSON","stringify","picture","toString","price","then","res","json","console","log","data","message","name","window","catch","e"],"mappings":";;AAAA,IAAIA,SAASC,SAASC,cAAT,CAAwB,cAAxB,CAAb;AACAF,OAAOG,gBAAP,CAAwB,OAAxB,EAAiCC,gBAAjC;AACA,SAASA,gBAAT,GAA4B;AAC1B,MAAIC,SAASJ,SAASK,aAAT,CAAuB,cAAvB,EAAuCC,SAApD;AACA,MAAIC,QAAQP,SAASK,aAAT,CAAuB,MAAvB,EAA+BG,GAA3C;AACA,MAAIC,WAAWT,SAASK,aAAT,CAAuB,WAAvB,EAAoCC,SAAnD;AACA,MAAII,gBAAgBV,SAASK,aAAT,CAAuB,gBAAvB,EAAyCC,SAA7D;;AAEAK,QAAM,kBAAN,EAA0B;AACxBC,YAAQ,MADgB;AAExBC,aAAS;AACP,wBAAkBC,aAAaC,OAAb,CAAqB,gBAArB,CADX;AAEP,sBAAgB;AAFT,KAFe;AAMxBC,UAAMC,KAAKC,SAAL,CAAe;AACnBC,eAASZ,MAAMa,QAAN,EADU;AAEnBX,gBAAUA,QAFS;AAGnBY,aAAOjB,MAHY;AAInBM,qBAAeA;AAJI,KAAf;AANkB,GAA1B,EAaGY,IAbH,CAaQ;AAAA,WAAOC,IAAIC,IAAJ,EAAP;AAAA,GAbR,EAcGF,IAdH,CAcQ,gBAAQ;AACZG,YAAQC,GAAR,CAAYC,IAAZ;;AAEA,QACEA,KAAKC,OAAL,KAAiB,uBAAjB,IACAD,KAAKE,IAAL,KAAc,mBAFhB,EAGE;AACAC,aAAOrB,QAAP,GAAkB,4BAAlB;AACD,KALD,MAKO;AACLqB,aAAOrB,QAAP,GAAkB,wBAAlB;AACD;AACF,GAzBH,EA0BGsB,KA1BH,CA0BS;AAAA,WAAKN,QAAQC,GAAR,CAAYM,CAAZ,CAAL;AAAA,GA1BT;AA2BD","file":"Purchase.js","sourcesContent":["var button = document.getElementById('purchase-btn');\r\nbutton.addEventListener('click', purchaseFunction);\r\nfunction purchaseFunction() {\r\n  var amount = document.querySelector('.price-point').innerHTML;\r\n  var image = document.querySelector('#img').src;\r\n  var location = document.querySelector('#location').innerHTML;\r\n  var numberOfRooms = document.querySelector('#numberOfRooms').innerHTML;\r\n\r\n  fetch('/api/v1/products', {\r\n    method: 'POST',\r\n    headers: {\r\n      'x-access-token': localStorage.getItem('x-access-token'),\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      picture: image.toString(),\r\n      location: location,\r\n      price: amount,\r\n      numberOfRooms: numberOfRooms\r\n    })\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      console.log(data);\r\n\r\n      if (\r\n        data.message === 'Token is not provided' ||\r\n        data.name === 'JsonWebTokenError'\r\n      ) {\r\n        window.location = '/signupPages/register.html';\r\n      } else {\r\n        window.location = '/signupPages/test.html';\r\n      }\r\n    })\r\n    .catch(e => console.log(e));\r\n}\r\n"]}