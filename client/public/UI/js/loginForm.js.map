{"version":3,"sources":["../../../../src/public/UI/js/loginForm.js"],"names":["loginForm","document","getElementById","addEventListener","postData","event","preventDefault","email","value","password","fetch","method","credentials","body","JSON","stringify","headers","then","res","json","data","token","window","location","localStorage","setItem","catch","console","log","err"],"mappings":";;AAAA,IAAIA,YAAYC,SAASC,cAAT,CAAwB,UAAxB,CAAhB;AACAF,UAAUG,gBAAV,CAA2B,QAA3B,EAAqCC,QAArC;;AAEA,SAASA,QAAT,CAAkBC,KAAlB,EAAyB;AACvBA,QAAMC,cAAN;AACA,MAAIC,QAAQN,SAASC,cAAT,CAAwB,OAAxB,EAAiCM,KAA7C;AACA,MAAIC,WAAWR,SAASC,cAAT,CAAwB,UAAxB,EAAoCM,KAAnD;;AAEAE,QAAM,qBAAN,EAA6B;AAC3BC,YAAQ,MADmB;AAE3BC,iBAAa,SAFc;AAG3BC,UAAMC,KAAKC,SAAL,CAAe,EAAER,OAAOA,KAAT,EAAgBE,UAAUA,QAA1B,EAAf,CAHqB;;AAK3BO,aAAS;AACP,sBAAgB;AADT;AALkB,GAA7B,EASGC,IATH,CASQ;AAAA,WAAOC,IAAIC,IAAJ,EAAP;AAAA,GATR,EAUGF,IAVH,CAUQ,gBAAQ;AACZ,QAAIG,KAAKC,KAAT,EAAgB;AACdC,aAAOC,QAAP,GAAkB,GAAlB;AACAC,mBAAaC,OAAb,CAAqB,gBAArB,EAAuCL,KAAKC,KAA5C;AACD;AACF,GAfH,EAgBGK,KAhBH,CAgBS;AAAA,WAAOC,QAAQC,GAAR,CAAYC,GAAZ,CAAP;AAAA,GAhBT;AAiBD","file":"loginForm.js","sourcesContent":["var loginForm = document.getElementById('postData');\r\nloginForm.addEventListener('submit', postData);\r\n\r\nfunction postData(event) {\r\n  event.preventDefault();\r\n  var email = document.getElementById('email').value;\r\n  var password = document.getElementById('password').value;\r\n\r\n  fetch('/api/v1/users/login', {\r\n    method: 'POST',\r\n    credentials: 'include',\r\n    body: JSON.stringify({ email: email, password: password }),\r\n\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    }\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      if (data.token) {\r\n        window.location = '/';\r\n        localStorage.setItem('x-access-token', data.token);\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n}\r\n"]}