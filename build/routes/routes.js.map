{"version":3,"sources":["../../src/routes/routes.js"],"names":["apiLimiter","windowMs","max","dotenv","config","router","express","Router","post","Auth","verifyToken","Product","create","get","getAll","getOne","put","update","delete","UserWithDb","login","module","exports"],"mappings":";;AAAA;;;;AAEA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;AANA;AAOA,IAAMA,aAAa,gCAAU;AAC3BC,YAAU,KAAK,EAAL,GAAU,IADO,EACD;AAC1BC,OAAK;AAFsB,CAAV,CAAnB;AAIAC,iBAAOC,MAAP;AACA,IAAMC,SAASC,kBAAQC,MAAR,EAAf;;AAEA;AACA;;AAEAF,OAAOG,IAAP,CAAY,WAAZ,EAAyBC,eAAKC,WAA9B,EAA2CV,UAA3C,EAAuDW,mBAAQC,MAA/D;AACAP,OAAOQ,GAAP,CAAW,WAAX,EAAwBJ,eAAKC,WAA7B,EAA0CC,mBAAQG,MAAlD;AACAT,OAAOQ,GAAP,CAAW,eAAX,EAA4BJ,eAAKC,WAAjC,EAA8CC,mBAAQI,MAAtD;AACAV,OAAOW,GAAP,CAAW,eAAX,EAA4BP,eAAKC,WAAjC,EAA8CC,mBAAQM,MAAtD;AACAZ,OAAOa,MAAP,CAAc,eAAd,EAA+BT,eAAKC,WAApC,EAAiDC,mBAAQO,MAAzD;AACAb,OAAOG,IAAP,CAAY,QAAZ,EAAsBW,gBAAWP,MAAjC;AACAP,OAAOG,IAAP,CAAY,cAAZ,EAA4BW,gBAAWC,KAAvC;;AAEAf,OAAOa,MAAP,CAAc,WAAd,EAA2BT,eAAKC,WAAhC,EAA6CS,gBAAWD,MAAxD;;AAEAG,OAAOC,OAAP,GAAiBjB,MAAjB","file":"routes.js","sourcesContent":["import express from 'express';\r\n// import ProductUsingJSObject from '../usingJSObject/controllers/products';\r\nimport Product from '../usingDB/controllers/products';\r\nimport dotenv from 'dotenv';\r\nimport 'babel-polyfill';\r\nimport UserWithDb from '../usingDB/controllers/Users';\r\nimport Auth from '../usingDB/middleware/Auth';\r\nimport rateLimit from 'express-rate-limit';\r\nconst apiLimiter = rateLimit({\r\n  windowMs: 15 * 60 * 1000, // 15 minutes\r\n  max: 1\r\n});\r\ndotenv.config();\r\nconst router = express.Router();\r\n\r\n// const Product =\r\n//   process.env.TYPE === 'db' ? ProductUsingDB : ProductUsingJSObject;\r\n\r\nrouter.post('/products', Auth.verifyToken, apiLimiter, Product.create);\r\nrouter.get('/products', Auth.verifyToken, Product.getAll);\r\nrouter.get('/products/:id', Auth.verifyToken, Product.getOne);\r\nrouter.put('/products/:id', Auth.verifyToken, Product.update);\r\nrouter.delete('/products/:id', Auth.verifyToken, Product.delete);\r\nrouter.post('/users', UserWithDb.create);\r\nrouter.post('/users/login', UserWithDb.login);\r\n\r\nrouter.delete('/users/me', Auth.verifyToken, UserWithDb.delete);\r\n\r\nmodule.exports = router;\r\n"]}